(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{MZhU:function(m,g,a){m.exports={main:"main___3ipCw",icon:"icon___P3cg6",other:"other___3uIfA",register:"register___3Mz8E",prefixIcon:"prefixIcon___Tvd5H"}},Z1IU:function(m,g,a){"use strict";a.r(g);var H=a("aKtj"),x=a("yW+7"),Q=a("68GB"),L=a("Imhw"),C=a("YLUp"),w=a("YVgN"),E=a("x+C3"),j=a("arx1"),I=a("DREN"),q=a("FRA6"),T=a("yNKZ"),A=a("SDju"),P=a.n(A),K=a("alLo"),R=a("h0nt"),U=a("jINM"),W=a("GKu0"),F=a("lztk"),y=a("fg7+"),N=a("yXn+"),f=a("T9Mk"),k=a.n(f),S=a("uY3s"),O=a("gZGP"),z=a("X4yW"),G=a("WKPs"),s=a("9kvl"),Z=a("63rs"),J=a("MZhU"),t=a.n(J),e=a("ikfJ"),ee=a.n(e),p=function(r){var l=r.content;return Object(e.jsx)(T.a,{style:{marginBottom:24},message:l,type:"error",showIcon:!0})},V=function(r){var l=r.userLogin,D=l===void 0?{}:l,M=r.submitting,b=D.status,h=D.type,Y=Object(f.useState)("account"),v=Object(I.a)(Y,2),c=v[0],$=v[1],n=Object(s.f)(),X=function(_){var o=r.dispatch;o({type:"login/login",payload:Object(j.a)(Object(j.a)({},_),{},{type:c})})};return Object(e.jsxs)("div",{className:t.a.main,children:[Object(e.jsxs)(S.a,{initialValues:{autoLogin:!0},submitter:{render:function(_,o){return o.pop()},submitButtonProps:{loading:M,size:"large",style:{width:"100%"}}},onFinish:function(_){return X(_),Promise.resolve()},children:[Object(e.jsxs)(E.a,{activeKey:c,onChange:$,children:[Object(e.jsx)(E.a.TabPane,{tab:n.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account"),Object(e.jsx)(E.a.TabPane,{tab:n.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})},"mobile")]}),b==="error"&&h==="account"&&!M&&Object(e.jsx)(p,{content:n.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),c==="account"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(O.a,{name:"userName",fieldProps:{size:"large",prefix:Object(e.jsx)(K.a,{className:t.a.prefixIcon})},placeholder:n.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),Object(e.jsx)(O.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(R.a,{className:t.a.prefixIcon})},placeholder:n.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),b==="error"&&h==="mobile"&&!M&&Object(e.jsx)(p,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),c==="mobile"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(O.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(U.a,{className:t.a.prefixIcon})},name:"mobile",placeholder:n.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:Object(e.jsx)(s.a,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),Object(e.jsx)(z.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(W.a,{className:t.a.prefixIcon})},captchaProps:{size:"large"},placeholder:n.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(_,o){return _?"".concat(o," ").concat(n.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):n.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var u=Object(C.a)(P.a.mark(function _(o){var B;return P.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Z.b)(o);case 2:if(B=i.sent,B!==!1){i.next=5;break}return i.abrupt("return");case 5:L.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return i.stop()}},_)}));return function(_){return u.apply(this,arguments)}}()})]}),Object(e.jsxs)("div",{style:{marginBottom:24},children:[Object(e.jsx)(G.a,{noStyle:!0,name:"autoLogin",children:Object(e.jsx)(s.a,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),Object(e.jsx)("a",{style:{float:"right"},children:Object(e.jsx)(s.a,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]}),Object(e.jsxs)(x.b,{className:t.a.other,children:[Object(e.jsx)(s.a,{id:"pages.login.loginWith",defaultMessage:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"}),Object(e.jsx)(F.a,{className:t.a.icon}),Object(e.jsx)(y.a,{className:t.a.icon}),Object(e.jsx)(N.a,{className:t.a.icon})]})]})};g.default=Object(s.c)(function(d){var r=d.login,l=d.loading;return{userLogin:r,submitting:l.effects["login/login"]}})(V)}}]);
